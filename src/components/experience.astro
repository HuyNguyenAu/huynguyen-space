---
import Section from "./section.astro";

type Experience = {
  logo: string;
  position: string;
  startDate: string;
  endDate?: string;
  company: string;
  points: Array<string>;
};

export type Props = {
  experiences: Array<Experience>;
};

const { experiences } = Astro.props;
---

<Section title="Experience">
  <div class="text-gray-900 font-light leading-relaxed">
    {
      experiences.map((experience: Experience) => (
        <>
          <div class="flex relative py-20 sm:items-center md:w-2/3">
            <div class="h-full w-6 absolute inset-0 flex items-center justify-center">
              <div class="h-full w-1 bg-gray-200 pointer-events-none" />
            </div>
            <div class="flex-shrink-0 w-6 h-6 rounded-full mt-10 sm:mt-0 inline-flex items-center justify-center bg-indigo-500 text-white relative z-10 title-font font-medium text-sm" />
            <div class="flex-grow md:pl-8 pl-6 flex sm:items-center items-start flex-col sm:flex-row">
              <div class="flex-shrink-0 w-24 h-24 bg-indigo-50 rounded-full inline-flex items-center justify-center">
                <img src={experience.logo} width="80%" height="auto" />
              </div>
              <div class="flex-grow sm:pl-6 mt-6 sm:mt-0">
                <h2 class="font-medium mb-1 text-xl">
                  {experience.position} @ {experience.company}
                </h2>
                <p class="text-gray-500 mb-1 text-sm">
                  {experience.startDate} - {experience.endDate ?? "Present"}
                </p>
                <ul class="list-disc list-inside">
                  {experience.points.map((point: string) => (
                    <li>{point}</li>
                  ))}
                </ul>
              </div>
            </div>
          </div>
        </>
      ))
    }
  </div>
</Section>
